var jsonEmptyBoard = '[[{"x":0,"y":0,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":0,"y":1,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":0,"y":2,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":0,"y":3,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":0,"y":4,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":0,"y":5,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":0,"y":6,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":0,"y":7,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":0,"y":8,"possibleValues":[1,2,3,4,5,6,7,8,9]}],[{"x":1,"y":0,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":1,"y":1,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":1,"y":2,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":1,"y":3,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":1,"y":4,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":1,"y":5,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":1,"y":6,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":1,"y":7,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":1,"y":8,"possibleValues":[1,2,3,4,5,6,7,8,9]}],[{"x":2,"y":0,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":2,"y":1,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":2,"y":2,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":2,"y":3,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":2,"y":4,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":2,"y":5,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":2,"y":6,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":2,"y":7,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":2,"y":8,"possibleValues":[1,2,3,4,5,6,7,8,9]}],[{"x":3,"y":0,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":3,"y":1,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":3,"y":2,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":3,"y":3,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":3,"y":4,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":3,"y":5,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":3,"y":6,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":3,"y":7,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":3,"y":8,"possibleValues":[1,2,3,4,5,6,7,8,9]}],[{"x":4,"y":0,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":4,"y":1,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":4,"y":2,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":4,"y":3,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":4,"y":4,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":4,"y":5,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":4,"y":6,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":4,"y":7,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":4,"y":8,"possibleValues":[1,2,3,4,5,6,7,8,9]}],[{"x":5,"y":0,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":5,"y":1,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":5,"y":2,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":5,"y":3,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":5,"y":4,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":5,"y":5,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":5,"y":6,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":5,"y":7,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":5,"y":8,"possibleValues":[1,2,3,4,5,6,7,8,9]}],[{"x":6,"y":0,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":6,"y":1,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":6,"y":2,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":6,"y":3,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":6,"y":4,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":6,"y":5,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":6,"y":6,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":6,"y":7,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":6,"y":8,"possibleValues":[1,2,3,4,5,6,7,8,9]}],[{"x":7,"y":0,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":7,"y":1,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":7,"y":2,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":7,"y":3,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":7,"y":4,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":7,"y":5,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":7,"y":6,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":7,"y":7,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":7,"y":8,"possibleValues":[1,2,3,4,5,6,7,8,9]}],[{"x":8,"y":0,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":8,"y":1,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":8,"y":2,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":8,"y":3,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":8,"y":4,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":8,"y":5,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":8,"y":6,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":8,"y":7,"possibleValues":[1,2,3,4,5,6,7,8,9]},{"x":8,"y":8,"possibleValues":[1,2,3,4,5,6,7,8,9]}]]';
var jsonSomeBoard = '[[{"x":0,"y":0,"possibleValues":[4,5,6,7,8,9],"value":1},{"x":0,"y":1,"possibleValues":[4,5,6,7,8,9]},{"x":0,"y":2,"possibleValues":[4,5,6,7,8,9]},{"x":0,"y":3,"possibleValues":[2,3,5,6,7,8,9]},{"x":0,"y":4,"possibleValues":[2,3,4,6,7,8,9]},{"x":0,"y":5,"possibleValues":[2,3,4,5,7,8,9]},{"x":0,"y":6,"possibleValues":[2,3,4,5,6,8,9]},{"x":0,"y":7,"possibleValues":[2,3,4,5,6,7,9]},{"x":0,"y":8,"possibleValues":[2,3,4,5,6,7,8]}],[{"x":1,"y":0,"possibleValues":[4,5,6,7,8,9]},{"x":1,"y":1,"possibleValues":[4,5,6,7,8,9],"value":2},{"x":1,"y":2,"possibleValues":[4,5,6,7,8,9]},{"x":1,"y":3,"possibleValues":[1,3,5,6,7,8,9]},{"x":1,"y":4,"possibleValues":[1,3,4,6,7,8,9]},{"x":1,"y":5,"possibleValues":[1,3,4,5,7,8,9]},{"x":1,"y":6,"possibleValues":[1,3,4,5,6,8,9]},{"x":1,"y":7,"possibleValues":[1,3,4,5,6,7,9]},{"x":1,"y":8,"possibleValues":[1,3,4,5,6,7,8]}],[{"x":2,"y":0,"possibleValues":[4,5,6,7,8,9]},{"x":2,"y":1,"possibleValues":[4,5,6,7,8,9]},{"x":2,"y":2,"possibleValues":[4,5,6,7,8,9],"value":3},{"x":2,"y":3,"possibleValues":[1,2,5,6,7,8,9]},{"x":2,"y":4,"possibleValues":[1,2,4,6,7,8,9]},{"x":2,"y":5,"possibleValues":[1,2,4,5,7,8,9]},{"x":2,"y":6,"possibleValues":[1,2,4,5,6,8,9]},{"x":2,"y":7,"possibleValues":[1,2,4,5,6,7,9]},{"x":2,"y":8,"possibleValues":[1,2,4,5,6,7,8]}],[{"x":3,"y":0,"possibleValues":[2,3,5,6,7,8,9]},{"x":3,"y":1,"possibleValues":[1,3,5,6,7,8,9]},{"x":3,"y":2,"possibleValues":[1,2,5,6,7,8,9]},{"x":3,"y":3,"possibleValues":[1,2,3,7,8,9],"value":4},{"x":3,"y":4,"possibleValues":[1,2,3,7,8,9]},{"x":3,"y":5,"possibleValues":[1,2,3,7,8,9]},{"x":3,"y":6,"possibleValues":[1,2,3,5,6,8,9]},{"x":3,"y":7,"possibleValues":[1,2,3,5,6,7,9]},{"x":3,"y":8,"possibleValues":[1,2,3,5,6,7,8]}],[{"x":4,"y":0,"possibleValues":[2,3,4,6,7,8,9]},{"x":4,"y":1,"possibleValues":[1,3,4,6,7,8,9]},{"x":4,"y":2,"possibleValues":[1,2,4,6,7,8,9]},{"x":4,"y":3,"possibleValues":[1,2,3,7,8,9]},{"x":4,"y":4,"possibleValues":[1,2,3,7,8,9],"value":5},{"x":4,"y":5,"possibleValues":[1,2,3,7,8,9]},{"x":4,"y":6,"possibleValues":[1,2,3,4,6,8,9]},{"x":4,"y":7,"possibleValues":[1,2,3,4,6,7,9]},{"x":4,"y":8,"possibleValues":[1,2,3,4,6,7,8]}],[{"x":5,"y":0,"possibleValues":[2,3,4,5,7,8,9]},{"x":5,"y":1,"possibleValues":[1,3,4,5,7,8,9]},{"x":5,"y":2,"possibleValues":[1,2,4,5,7,8,9]},{"x":5,"y":3,"possibleValues":[1,2,3,7,8,9]},{"x":5,"y":4,"possibleValues":[1,2,3,7,8,9]},{"x":5,"y":5,"possibleValues":[1,2,3,7,8,9],"value":6},{"x":5,"y":6,"possibleValues":[1,2,3,4,5,8,9]},{"x":5,"y":7,"possibleValues":[1,2,3,4,5,7,9]},{"x":5,"y":8,"possibleValues":[1,2,3,4,5,7,8]}],[{"x":6,"y":0,"possibleValues":[2,3,4,5,6,8,9]},{"x":6,"y":1,"possibleValues":[1,3,4,5,6,8,9]},{"x":6,"y":2,"possibleValues":[1,2,4,5,6,8,9]},{"x":6,"y":3,"possibleValues":[1,2,3,5,6,8,9]},{"x":6,"y":4,"possibleValues":[1,2,3,4,6,8,9]},{"x":6,"y":5,"possibleValues":[1,2,3,4,5,8,9]},{"x":6,"y":6,"possibleValues":[1,2,3,4,5,6],"value":7},{"x":6,"y":7,"possibleValues":[1,2,3,4,5,6]},{"x":6,"y":8,"possibleValues":[1,2,3,4,5,6]}],[{"x":7,"y":0,"possibleValues":[2,3,4,5,6,7,9]},{"x":7,"y":1,"possibleValues":[1,3,4,5,6,7,9]},{"x":7,"y":2,"possibleValues":[1,2,4,5,6,7,9]},{"x":7,"y":3,"possibleValues":[1,2,3,5,6,7,9]},{"x":7,"y":4,"possibleValues":[1,2,3,4,6,7,9]},{"x":7,"y":5,"possibleValues":[1,2,3,4,5,7,9]},{"x":7,"y":6,"possibleValues":[1,2,3,4,5,6]},{"x":7,"y":7,"possibleValues":[1,2,3,4,5,6],"value":8},{"x":7,"y":8,"possibleValues":[1,2,3,4,5,6]}],[{"x":8,"y":0,"possibleValues":[2,3,4,5,6,7,8]},{"x":8,"y":1,"possibleValues":[1,3,4,5,6,7,8]},{"x":8,"y":2,"possibleValues":[1,2,4,5,6,7,8]},{"x":8,"y":3,"possibleValues":[1,2,3,5,6,7,8]},{"x":8,"y":4,"possibleValues":[1,2,3,4,6,7,8]},{"x":8,"y":5,"possibleValues":[1,2,3,4,5,7,8]},{"x":8,"y":6,"possibleValues":[1,2,3,4,5,6]},{"x":8,"y":7,"possibleValues":[1,2,3,4,5,6]},{"x":8,"y":8,"possibleValues":[1,2,3,4,5,6],"value":9}]]';
var jsonFullBoard = '[[{"x":0,"y":0,"possibleValues":[],"value":1},{"x":0,"y":1,"possibleValues":[],"value":2},{"x":0,"y":2,"possibleValues":[],"value":3},{"x":0,"y":3,"possibleValues":[],"value":4},{"x":0,"y":4,"possibleValues":[],"value":5},{"x":0,"y":5,"possibleValues":[],"value":6},{"x":0,"y":6,"possibleValues":[],"value":7},{"x":0,"y":7,"possibleValues":[],"value":8},{"x":0,"y":8,"possibleValues":[],"value":9}],[{"x":1,"y":0,"possibleValues":[],"value":4},{"x":1,"y":1,"possibleValues":[],"value":5},{"x":1,"y":2,"possibleValues":[],"value":6},{"x":1,"y":3,"possibleValues":[],"value":7},{"x":1,"y":4,"possibleValues":[],"value":8},{"x":1,"y":5,"possibleValues":[],"value":9},{"x":1,"y":6,"possibleValues":[],"value":1},{"x":1,"y":7,"possibleValues":[],"value":2},{"x":1,"y":8,"possibleValues":[],"value":3}],[{"x":2,"y":0,"possibleValues":[],"value":7},{"x":2,"y":1,"possibleValues":[],"value":8},{"x":2,"y":2,"possibleValues":[],"value":9},{"x":2,"y":3,"possibleValues":[],"value":1},{"x":2,"y":4,"possibleValues":[],"value":2},{"x":2,"y":5,"possibleValues":[],"value":3},{"x":2,"y":6,"possibleValues":[],"value":4},{"x":2,"y":7,"possibleValues":[],"value":5},{"x":2,"y":8,"possibleValues":[],"value":6}],[{"x":3,"y":0,"possibleValues":[],"value":2},{"x":3,"y":1,"possibleValues":[],"value":3},{"x":3,"y":2,"possibleValues":[],"value":4},{"x":3,"y":3,"possibleValues":[],"value":5},{"x":3,"y":4,"possibleValues":[],"value":6},{"x":3,"y":5,"possibleValues":[],"value":7},{"x":3,"y":6,"possibleValues":[],"value":8},{"x":3,"y":7,"possibleValues":[],"value":9},{"x":3,"y":8,"possibleValues":[],"value":1}],[{"x":4,"y":0,"possibleValues":[],"value":5},{"x":4,"y":1,"possibleValues":[],"value":6},{"x":4,"y":2,"possibleValues":[],"value":7},{"x":4,"y":3,"possibleValues":[],"value":8},{"x":4,"y":4,"possibleValues":[],"value":9},{"x":4,"y":5,"possibleValues":[],"value":1},{"x":4,"y":6,"possibleValues":[],"value":2},{"x":4,"y":7,"possibleValues":[],"value":3},{"x":4,"y":8,"possibleValues":[],"value":4}],[{"x":5,"y":0,"possibleValues":[],"value":8},{"x":5,"y":1,"possibleValues":[],"value":9},{"x":5,"y":2,"possibleValues":[],"value":1},{"x":5,"y":3,"possibleValues":[],"value":2},{"x":5,"y":4,"possibleValues":[],"value":3},{"x":5,"y":5,"possibleValues":[],"value":4},{"x":5,"y":6,"possibleValues":[],"value":5},{"x":5,"y":7,"possibleValues":[],"value":6},{"x":5,"y":8,"possibleValues":[],"value":7}],[{"x":6,"y":0,"possibleValues":[],"value":3},{"x":6,"y":1,"possibleValues":[],"value":4},{"x":6,"y":2,"possibleValues":[],"value":5},{"x":6,"y":3,"possibleValues":[],"value":6},{"x":6,"y":4,"possibleValues":[],"value":7},{"x":6,"y":5,"possibleValues":[],"value":8},{"x":6,"y":6,"possibleValues":[],"value":9},{"x":6,"y":7,"possibleValues":[],"value":1},{"x":6,"y":8,"possibleValues":[],"value":2}],[{"x":7,"y":0,"possibleValues":[],"value":6},{"x":7,"y":1,"possibleValues":[],"value":7},{"x":7,"y":2,"possibleValues":[],"value":8},{"x":7,"y":3,"possibleValues":[],"value":9},{"x":7,"y":4,"possibleValues":[],"value":1},{"x":7,"y":5,"possibleValues":[],"value":2},{"x":7,"y":6,"possibleValues":[],"value":3},{"x":7,"y":7,"possibleValues":[],"value":4},{"x":7,"y":8,"possibleValues":[],"value":5}],[{"x":8,"y":0,"possibleValues":[],"value":9},{"x":8,"y":1,"possibleValues":[],"value":1},{"x":8,"y":2,"possibleValues":[],"value":2},{"x":8,"y":3,"possibleValues":[],"value":3},{"x":8,"y":4,"possibleValues":[],"value":4},{"x":8,"y":5,"possibleValues":[],"value":5},{"x":8,"y":6,"possibleValues":[],"value":6},{"x":8,"y":7,"possibleValues":[],"value":7},{"x":8,"y":8,"possibleValues":[],"value":8}]]';

function createSomeBoard() {
	var newboard = new board();
	for (var i=0;i<9;i++){
		newboard.setValue(i,i,i+1);
	}
	return newboard;
}

function createFullBoard() {
	var newboard = new board();
	for (var b=0;b<3;b++){
		for (var i=0;i<3;i++){
			for (var j=0; j<9; j++) {
				var row = i + b*3;
				newboard.setValue(row, j,((3*i + j + b) % 9) + 1);
			}
		}
	}
	return newboard;
}

QUnit.assert.boardEquals = function(obtained, expected, message) {
	var ok = true;
	
	for (var i=0;i<9;i++){
		for (var j=0;j<9;j++){
			if (obtained.getValue(i,j) !== expected.getValue(i,j)){
				this.push (false, obtained.getValue(i,j), expected.getValue(i,j), message + ": failed comparing value at "+i+","+j);
				ok = false;
			}
			if (!isEqArrays(obtained.getPossibleValues(i,j),expected.getPossibleValues(i,j))){
				this.push (false, obtained.getPossibleValues(i,j), expected.getPossibleValues(i,j), message + ": failed comparing possible values at "+i+","+j);
				ok = false;
			}
		}
	}
	
	if (ok) {
		this.push (ok, obtained, expected, message);
	}
}

function inArray(array, el) {
  for ( var i = array.length; i--; ) {
    if ( array[i] === el ) return true;
  }
  return false;
}

function isEqArrays(arr1, arr2) {
  if ( arr1.length !== arr2.length ) {
    return false;
  }
  for ( var i = arr1.length; i--; ) {
    if ( !inArray( arr2, arr1[i] ) ) {
      return false;
    }
  }
  return true;
}